<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a routerLink="/multiple-accounts-report">Home</a></li>
    <li class="breadcrumb-item">Misc</li>
    <li class="breadcrumb-item active" aria-current="page">Export Org Config</li>
  </ol>
</nav>
<div class="form-group row">
  <div class="col-sm-12 text-left">
    <span class="font-weight-bold">Select "All" checkbox to generate a full document or select individual checkbox(es) to generate a partial document</span>
  </div>
</div>


<!--div class="form-group row">
  <div class="col-sm-12 text-left">
    <button type="button" [disabled]="isProcessingDocGeneration()" (click)="submitGenDocTask()" class="btn btn-info btn-sm">
      Generate
    </button>
  </div>
</div-->

<div class="form-group row">
  <div class="col-sm-6 text-left">
    <button type="button" [disabled]="!readyForGenerate" (click)="submitGenDocTask()" class="btn btn-info btn-sm">Generate</button>
    &nbsp;<span *ngIf="isProcessingDocGeneration()" class="spinner-border spinner-border-sm mr-1"></span>
    &nbsp;<span *ngIf="isProcessingDocGeneration()">Generating Document...</span>
  </div>
  <div class="col-sm-6 text-left">
    <button type="button" (click)="downloadJson()" class="btn btn-info btn-sm">Export</button>
  </div>
</div>

<!--div class="form-group row" *ngIf="isProcessingDocGeneration()">
  <div class="col-sm-12 text-left">
    <span class="spinner-border spinner-border-sm mr-1"></span>Generating Document...
  </div>
</div-->


<table class="table table-striped table-bordered">
  <thead class="thead-light">
    <tr>
      <!--
      <th scope="col">
        Select All
        <br>
          <input type="checkbox" [(ngModel)]="selectAll" (click)="changeOnSelectAll()" id="selectAll">
      </th>
      -->
      <th scope="col">&nbsp;</th>
      <th scope="col">Type</th>
      <th scope="col">Description</th>
      <!--th scope="col">Status</th-->
    </tr>
  </thead>
  <tbody *ngIf="documentItems">
    <tr *ngFor="let di of documentItems">
      <td *ngIf="di.name == 'All'">
        <input type="checkbox" [disabled]="di.disabled" [(ngModel)]="di.selected" (click)="changeOnSelectAll($event)">
      </td>
      <td *ngIf="di.name != 'All'">
        <input type="checkbox" [disabled]="di.disabled" [(ngModel)]="di.selected" (click)="changeOnSelect($event, documentItems.indexOf(di))">
      </td>
      <td>{{ di.name }}</td>
      <td>{{ di.description }}</td>
      <!--
      <td>
        <div class="form-group row" *ngIf="isProcessingDocGeneration()">
          <div class="col-sm-12 text-left">
            <span class="spinner-border spinner-border-sm mr-1"></span>Generating...
          </div>
        </div>
      </td>
      -->
      <!--td>
        <div class="form-group row" *ngIf="di.selected && isProcessingDocGeneration()">
          <div class="col-sm-12 text-left">
            <span class="spinner-border spinner-border-sm mr-1"></span>Generating...
          </div>
        </div>
        <div class="form-group row" *ngIf="di.selected && !isProcessingDocGeneration()">
          <div class="col-sm-12 text-left">
            <button type="button" (click)="downloadDocument()" class="btn btn-info btn-sm">
              Download
            </button>
          </div>
        </div>
      </td-->
    </tr>
  </tbody>
</table> 